<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:m="http://javierllorente.com/mms/tags"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:param name="param" value="#{bean}" />
    <ui:param name="method" value="#{action}" />
    <h:form id="#{id}" rendered="#{empty rendered or rendered}">
        <table>
            <tr>
                <td>Term:</td>
                <td>
                    <h:inputText id="term" value="#{bean.entry.term}" 
                                 readonly="#{action eq 'update'}" />
                    <h:message id="termMessage" for="#{id}:term" styleClass="error" />
                </td>
            </tr>
            <tr>
                <td>#{bundle['mindMap.definition']}: </td>
                <td>
                    <m:textEditor id="definition" 
                                  value="#{bean.entry.htmlData.definition}"
                                  textValue="#{bean.entry.definition}" />
                    <h:message id="definitionMessage" for="#{id}:definition_html" styleClass="error" />
                </td>
            </tr>
            <tr>
                <td>#{bundle['mindMap.translation']}: </td>
                <td>
                    <m:textEditor id="translation" 
                                  value="#{bean.entry.htmlData.translation}"
                                  textValue="#{bean.entry.translation}" />
                    <h:message id="translationMessage" for="#{id}:translation_html" styleClass="error" />
                </td>
            </tr>
            <tr>
                <td>#{bundle['mindMap.context']}: </td>
                <td>
                    <m:textEditor id="context" 
                                  value="#{bean.entry.htmlData.context}"
                                  textValue="#{bean.entry.context}" />
                    <h:message id="contextMessage" for="#{id}:context_html" styleClass="error" />
                </td>
            </tr>
            <tr>
                <td>#{bundle['mindMap.expertNetwork']}: </td>
                <td>
                    <m:textEditor id="expertNetwork" 
                                  value="#{bean.entry.htmlData.expertNetwork}"
                                  textValue="#{bean.entry.expertNetwork}" />
                </td>
            </tr>
            <tr>
                <td>#{bundle['mindMap.resources']}: </td>
                <td>
                    <m:textEditor id="resources" 
                                  value="#{bean.entry.htmlData.resources}"
                                  textValue="#{bean.entry.resources}" />
                </td>
            </tr>
            <tr>
                <td>Tags: </td>
                <td>
                    <h:selectManyListbox id="entryTags" value="#{bean.entry.tags}" class="tagList">
                        <f:selectItems id="tags" value="#{tagBean.tags}" var="tag" itemLabel="#{tag.name}" />
                    </h:selectManyListbox>
                </td>
            </tr>
        </table>
        <div id="submitPanel">
            <h:commandButton id="submitButton" value="Submit" action="#{param[method]}" />
        </div>
    </h:form>    
</ui:composition>
