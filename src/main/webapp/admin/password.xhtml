<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../WEB-INF/templates/adminTemplate.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:m="http://javierllorente.com/mms/tags">
    <ui:define name="title">Admin console - Change user's password</ui:define>
    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam id="userParam" name="username" value="#{userBean.username}" 
                         required="true" requiredMessage="No username given" />
            <f:viewAction action="#{userBean.onLoad()}" />
        </f:metadata>
    </ui:define>
    <ui:define name="content">
        <div id="userContainer">
            <h:messages id="messages" />
            <m:userForm id="changePasswordForm" bean="#{userBean}" action="changePassword" 
                        rendered="#{not empty userBean.user.username}" />
        </div>
    </ui:define>
</ui:composition>
